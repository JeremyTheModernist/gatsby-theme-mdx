{"version":3,"sources":["../../src/utils/page-html.js"],"names":["fs","require","path","checkForHtmlSuffix","pagePath","test","remove","publicDir","filePath","getPageHtmlFilePath","dir","outputPath","outputFileName","replace","join","module","exports"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAE,UAAF,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAE,MAAF,CAApB;;AAEA,MAAME,kBAAkB,GAAGC,QAAQ,IAAI,CAAC,cAAcC,IAAd,CAAmBD,QAAnB,CAAxC;;AAEA,MAAME,MAAM,GAAG,OAAO;AAAEC,EAAAA;AAAF,CAAP,EAAsBH,QAAtB,KAAmC;AAChD,QAAMI,QAAQ,GAAGC,mBAAmB,CAACF,SAAD,EAAYH,QAAZ,CAApC;AAEA,SAAOJ,EAAE,CAACM,MAAH,CAAUE,QAAV,CAAP;AACD,CAJD,C,CAMA;;;AACA,MAAMC,mBAAmB,GAAG,CAACC,GAAD,EAAMC,UAAN,KAAqB;AAC/C,MAAIC,cAAc,GAAGD,UAAU,CAACE,OAAX,CAAmB,UAAnB,EAAgC,EAAhC,CAArB,CAD+C,CACS;;AAExD,MAAIV,kBAAkB,CAACQ,UAAD,CAAtB,EAAoC;AAClCC,IAAAA,cAAc,GAAGV,IAAI,CAACY,IAAL,CAAUF,cAAV,EAA2B,YAA3B,CAAjB;AACD;;AAED,SAAOV,IAAI,CAACY,IAAL,CAAUJ,GAAV,EAAeE,cAAf,CAAP;AACD,CARD;;AAUAG,MAAM,CAACC,OAAP,GAAiB;AACfV,EAAAA,MADe;AAEfG,EAAAA;AAFe,CAAjB","sourcesContent":["const fs = require(`fs-extra`)\nconst path = require(`path`)\n\nconst checkForHtmlSuffix = pagePath => !/\\.(html?)$/i.test(pagePath)\n\nconst remove = async ({ publicDir }, pagePath) => {\n  const filePath = getPageHtmlFilePath(publicDir, pagePath)\n\n  return fs.remove(filePath)\n}\n\n// copied from https://github.com/markdalgleish/static-site-generator-webpack-plugin/blob/master/index.js#L161\nconst getPageHtmlFilePath = (dir, outputPath) => {\n  let outputFileName = outputPath.replace(/^(\\/|\\\\)/, ``) // Remove leading slashes for webpack-dev-server\n\n  if (checkForHtmlSuffix(outputPath)) {\n    outputFileName = path.join(outputFileName, `index.html`)\n  }\n\n  return path.join(dir, outputFileName)\n}\n\nmodule.exports = {\n  remove,\n  getPageHtmlFilePath,\n}\n"],"file":"page-html.js"}